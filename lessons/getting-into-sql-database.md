# Getting into SQL Database

SQL Database เป็น Relational Database ตัวนึงเค้ามักใช้คำย่อว่า **RDBMS** (**R**elational **D**ata**b**ase **M**anagement **S**ystem)

<br><hr><br>

## What is Relational Database

พูดถึง Relational Database ให้เรากลับไปดูตัวอย่างของการเก็บข้อมูลแบบใน Excel แบบดั้งเดิม เราได้เก็บข้อมูลการซื้อสินค้าของลูกเค้าเราไว้เป็นแบบนี้

| name  | product |   qty |       date |                     address |
| ----- | :-----: | ----: | ---------: | --------------------------: |
| John  |   Dog   | $1600 | 03/03/2021 | 23/132 indy village bangkok |
| Anny  | Padthai |   $12 | 04/03/2021 |     142/132 condo sukhumvit |
| Billy | Noodle  |    $1 | 04/03/2021 | 02/001 some village bangkok |
| John  |   Cat   | $1600 | 24/03/2021 |        999 bangplat bangkok |
| John  | Hamster | $1600 | 24/03/2021 |                   123 krabi |

การเก็บแบบนี้มีปัญหาหลายอย่าง ยกตัวอย่างเช่า ถ้า John ขอดู Order ใบนึงของเค้า สิ่งที่เกิดขึ้นคือ

- เราจะเห็นทั้งหมด 3 records ที่มี addresses ที่แตกต่างกัน แล้วก็ไม่ได้เรียงลำดับ ทำให้เกิดข้อผิดพลาดได้ในการส่งสินค้าได้ง่ายมาก
- ถ้าลูกค้าอยากจะเปลี่ยนชื่อของเค้าเองก็ต้องมานั่งไล่เปลี่ยนทุก ๆ records ที่เป็นของลูกค้าคนนั้น ๆ ไม่ใช่แค่ข้อมูลลูกค้าที่สามารถเปลี่ยนได้นะ ถ้าเกิดเราต้องการจะเปลี่ยนข้อมูล product แน่นอนว่าเป็นการยากแน่ ๆ ที่เราจะจัดการข้อมูลในรูปแบบแบบนี้
- ยิ่ง records มากขึ้นเรื่อย ๆ จะยิ่งเป็นปัญหาอย่างมากในการจัดการข้อมูลอย่างไม่ต้องสงสัย

จากปัญหาเหล่านี้เราจะแก้ไขยังไงได้บ้าง แน่นอน RDBMS !

เราจะทำการ**จัดการข้อมูลให้อยู่ในรูปแบบของตาราง 3 ตาราง**

ตารางแรกเราเรียกว่า **customers**

| customer_id | name  | address                     | phone     |
| ----------- | ----- | --------------------------- | --------- |
| 1           | John  | 23/132 indy village bangkok | 032144144 |
| 2           | Anny  | 142/132 condo sukhumvit     | 092323111 |
| 3           | Billy | 02/001 some village bangkok | 021324000 |

ตารางที่สองเราเรียกว่า **products**

| product_id | product_name | price |
| ---------- | ------------ | ----- |
| 1          | Dog          | 1600  |
| 2          | Padthai      | 12    |
| 3          | Noodle       | 1     |
| 4          | Cat          | 1600  |
| 5          | Hamster      | 1600  |

ตารางที่สามเราเรียกว่า **orders**

| order_id | customer_id | product_id | price | date       |
| -------- | ----------- | ---------- | ----- | ---------- |
| 1        | 1           | 1          | 1600  | 03/03/2021 |
| 2        | 2           | 1          | 12    | 04/03/2021 |
| 3        | 2           | 2          | 1     | 04/03/2021 |
| 4        | 1           | 3          | 1600  | 24/03/2021 |
| 5        | 1           | 4          | 1600  | 24/03/2021 |

เมื่อแยกออกมาแล้วตารางเหล่านี้จะมีความสัมพันธ์ **(Relation)** ต่อกัน และสามารถเชื่อมข้อมูลกันกันได้ เช่นตัวอย่างตาราง orders เราสามารถรู้ได้ว่า orders นี้เป็นของลูกค้าคนไหน และซื้อสินค้าอะไรผ่าน customer_id และ product_id ที่เราเก็บไว้ เช่น order_id 1 เป็นของ customer_id 1 เราก็ไปดูตาราง customers ว่าใครคือ customer_id 1

การแบ่งข้อมูลจาก Excel ใหญ่ ๆ ด้านบนออกเป็นตารางแบบนี้ช่วยอะไรเราบ้าง ?

- ข้อมูลถูกวางเป็นรูปแบบชัดเจนเป็นโครงสร้างที่ชัดเจน **(Structured data)** ซึ่งต่างกันกับตอนที่เราเก็บข้อมูลเหล่านี้ด้วย Excel ตอนแรก
- สิ่งที่เห็นได้ชัด เวลาเราจะแก้ข้อมูล products เราสามารถไปแก้ได้เลยที่ตาราง products **ที่เดียว** โดยไม่ต้องไปแก้หลาย ๆ ที่เหมือนการเก็บข้อมูลแบบ Excel

<br><hr><br>

## SQL

**SQL** ย่อมาจาก (**S**tructured **Q**uery **L**anguage) เป็นภาษาที่เราใช้คุยกับ Database เพื่อที่จะทำการขอดูข้อมูล, สร้างข้อมูล, อัพเดทข้อมูล, หรือลบข้อมูล

<br><hr><br>

## SQL Database

SQL Database มีหลายตัวมาก ๆ เช่น MySQL / MariaDB, SQLite, Microsoft SQL Server / Oracle / DB2, PostgreSQL ใน class นี้เราจะเลือกใช้ **PostgreSQL** (อ่านว่า **post-gress**) ซึ่งเป็นตัวที่ใช้แพร่หลายมาก ๆ

<br><hr><br>
